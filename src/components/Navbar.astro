---
interface NavLink {
  name: string;
  url: string;
}
const navbarLinks: NavLink[] = [
  {
    name: "Home",
    url: "home",
  },
  {
    name: "Product",
    url: "product",
  },
  {
    name: "FAQ",
    url: "faq",
  },
  {
    name: "Blog",
    url: "blog",
  },
  {
    name: "About Us",
    url: "about-us",
  },
];
---

<header id="navbar" class="flex items-center justify-between h-[10dvh] px-32">
  <h1 class="text-[#54BD95] font-semibold text-5xl">Biccas</h1>
  <nav>
    <ul class="flex items-center gap-x-10">
      {
        navbarLinks.map((link) => (
          <li id={link.url} class="nav-link font-medium text-lg">
            <a href={"#" + link.url}>{link.name}</a>
          </li>
        ))
      }
    </ul>
  </nav>

  <div class="flex items-center justify-center gap-x-5">
    <button class="text-[#A6A6A6] font-medium text-base">Login</button>
    <button class="bg-[#54BD95] w-20 h-10 text-[#F8F8FA] rounded-xl"
      >Sign Up</button
    >
  </div>
</header>

<script>
  const navLinks = document.querySelectorAll(".nav-link");
  const sections = ["home"];
  const onScroll = () => {
    let current = "";

    for (const section of sections) {
      const element = document.getElementById(section);
      if (element) {
        const rect = element.getBoundingClientRect();
        if (rect.top <= 150 && rect.bottom >= 150) {
          current = section;
        }
      }
    }
    if (
      window.innerHeight + window.scrollY >=
      document.body.offsetHeight - 50
    ) {
      current = "testimonials";
    }

    navLinks.forEach((link) => {
      link.classList.remove("text-black");
      link.classList.add("text-[#A6A6A6]");

      if (link.id === current) {
        link.classList.remove("text-[#A6A6A6]");
        link.classList.add("text-black");
      }
    });
  };

  window.addEventListener("scroll", onScroll);

  onScroll();
</script>
